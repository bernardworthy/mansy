function processHash(){var e=location.hash||"#";app.router.run(e.slice(1)),jQuery(window).load(function(){$("#container").isotope({itemSelector:".item",layoutMode:"masonry"})})}var app={router:Rlite()};app.EtsyApi=function(e){if(!e.apiKey)throw new Error("An API key is required!");var o="https://openapi.etsy.com/"+(e.apiVersion||"v2"),n={listings:function(){var n=o+"/listings/active.js?includes=MainImage&api_key="+e.apiKey+"&callback=?",r=$.Deferred(),i=$.getJSON(n).done(function(e){e.ok?r.resolve(e):r.reject(i,"Unknown error",e)});return r},userDetail:function(n){var r=o+"/users/"+n+"/profile.js?api_key="+e.apiKey+"&callback=?",i=$.Deferred(),a=$.getJSON(r).done(function(e){e.ok?i.resolve(e):i.reject(a,"Unknown error",e)});return i}};return n},app.router.add("",function(){app.api.listings().done(function(e){console.log(e);var o=_.template($("#listings").html(),{variable:"m"});$("#container").html(o({items:e.results}))}).fail(function(e,o,n){console.log(n)}),$(window).on("beforeunload",function(){$(window).scrollTop(0)})}),app.router.add("users/:userid",function(e){app.api.userDetail(e.params.userid).done(function(e){console.log(e.results[0]);var o=_.template($("#profile").html(),{variable:"m"});$("#container").html(o({user:e.results[0]}))}).fail(function(e,o,n){console.log(n)}),$(window).on("beforeunload",function(){$(window).scrollTop(0)})}),app.api=app.EtsyApi({apiKey:"pq046kugg8nrx8f2mu71awb7"}),window.addEventListener("hashchange",processHash),processHash();
//# sourceMappingURL=app.js.map