var app={};app.EtsyApi=function(e){if(!e.apiKey)throw new Error("An API key is required!");var i="https://openapi.etsy.com/"+(e.apiVersion||"v2"),n={listings:function(){var n=i+"/listings/active.js?includes=MainImage&api_key="+e.apiKey+"&callback=?",t=$.Deferred(),a=$.getJSON(n).done(function(e){e.ok?t.resolve(e):t.reject(a,"Unknown error",e)});return t},userDetail:function(n){var t=i+"/users/"+n+"/profile.js?api_key="+e.apiKey+"&callback=?",a=$.Deferred(),r=$.getJSON(t).done(function(e){e.ok?a.resolve(e):a.reject(r,"Unknown error",e)});return a}};return n},app.api=app.EtsyApi({apiKey:"pq046kugg8nrx8f2mu71awb7"}),app.showInitialPage=function(){app.api.listings().done(function(e){var i=_.template($("#listings").html(),{variable:"m"});$("body").html(i({items:e.results})),$(".profile-link").click(function(){var e=$(this),i=e.parent().parent()[0],n=$(i).data("id");app.api.userDetail(n).done(function(e){_.template($("#profile").html(),{variable:"m"});console.log(e),console.log(n),$("<p>"+e.results[0].first_name+"</p>").insertBefore($(".text-content",i))}).fail(function(e,i,n){console.log(n)})})}).fail(function(e,i,n){console.log(n)})},app.showInitialPage();
//# sourceMappingURL=app.js.map