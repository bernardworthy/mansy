function processHash(){var e=location.hash||"#";app.router.run(e.slice(1))}var app={router:Rlite()};app.EtsyApi=function(e){if(!e.apiKey)throw new Error("An API key is required!");var i="https://openapi.etsy.com/"+(e.apiVersion||"v2"),r={listings:function(){var r=i+"/listings/active.js?includes=MainImage&api_key="+e.apiKey+"&callback=?",n=$.Deferred(),o=$.getJSON(r).done(function(e){e.ok?n.resolve(e):n.reject(o,"Unknown error",e)});return n},userDetail:function(r){var n=i+"/users/"+r+"/profile.js?api_key="+e.apiKey+"&callback=?",o=$.Deferred(),s=$.getJSON(n).done(function(e){e.ok?o.resolve(e):o.reject(s,"Unknown error",e)});return o}};return r},app.router.add("",function(){app.api.listings().done(function(e){console.log(e);var i=_.template($("#listings").html(),{variable:"m"});$("#container").html(i({items:e.results}))}).fail(function(e,i,r){console.log(r)}),jQuery(window).load(function(){$("#container").isotope({itemSelector:".item",layoutMode:"masonry"})})}),app.router.add("users/:userid",function(e){app.api.userDetail(e.params.userid).done(function(e){console.log(e.results[0]);var i=_.template($("#profile").html(),{variable:"m"});$("#container").html(i({user:e.results[0]}))}).fail(function(e,i,r){console.log(r)}),app.api.listings(e.params.userid).done(function(r){console.log(r);var n=_.template($("#listings").html(),{variable:"m"});for(i=0;i<r.results.length;i++)r.results[i].user_id===e.params.userid&&$("#profile-listings").html(n({items:r.results}))}).fail(function(e,i,r){console.log(r)}),$(document).scrollTop(0)}),app.api=app.EtsyApi({apiKey:"pq046kugg8nrx8f2mu71awb7"}),window.addEventListener("hashchange",processHash),processHash();
//# sourceMappingURL=app.js.map