function processHash(){var e=location.hash||"#";app.router.run(e.slice(1))}var app={router:Rlite()};app.EtsyApi=function(e){if(!e.apiKey)throw new Error("An API key is required!");var n="https://openapi.etsy.com/"+(e.apiVersion||"v2"),o={listings:function(){var o=n+"/listings/active.js?includes=MainImage&api_key="+e.apiKey+"&callback=?",r=$.Deferred(),i=$.getJSON(o).done(function(e){e.ok?r.resolve(e):r.reject(i,"Unknown error",e)});return r},shopByUserId:function(o){var r=n+"/users/"+o+"/shops.js?includes=MainImage&api_key="+e.apiKey+"&callback=?",i=$.Deferred(),s=$.getJSON(r).done(function(e){e.ok?i.resolve(e):i.reject(s,"Unknown error",e)});return i},listingsByShopId:function(o){var r=n+"/shops/"+o+"/listings/active.js?includes=MainImage&api_key="+e.apiKey+"&callback=?",i=$.Deferred(),s=$.getJSON(r).done(function(e){e.ok?i.resolve(e):i.reject(s,"Unknown error",e)});return i},userDetail:function(o){var r=n+"/users/"+o+"/profile.js?api_key="+e.apiKey+"&callback=?",i=$.Deferred(),s=$.getJSON(r).done(function(e){e.ok?i.resolve(e):i.reject(s,"Unknown error",e)});return i}};return o},app.router.add("",function(){app.api.listings().done(function(e){console.log(e);var n=_.template($("#listings").html(),{variable:"m"});$("#container").html(n({items:e.results}))}).fail(function(e,n,o){console.log(o)}),$(document).ready(function(){$(".text-content").dotdotdot()})}),app.router.add("users/:userid",function(e){app.api.userDetail(e.params.userid).done(function(e){console.log(e.results[0]);var n=_.template($("#profile").html(),{variable:"m"});$("#container").html(n({user:e.results[0]}))}).fail(function(e,n,o){console.log(o)}),app.api.shopByUserId(e.params.userid).done(function(e){console.log(e);var n=e.results[0].shop_id;app.api.listingsByShopId(n).done(function(e){var n=_.template($("#listings").html(),{variable:"m"});$("#profile-listings").html(n({items:e.results}))}).fail(function(e,n,o){console.log(o)})}).fail(function(e,n,o){console.log(o)}),$(document).scrollTop(0)}),app.api=app.EtsyApi({apiKey:"pq046kugg8nrx8f2mu71awb7"}),window.addEventListener("hashchange",processHash),processHash();
//# sourceMappingURL=app.js.map