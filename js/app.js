function processHash(){var e=location.hash||"#";app.router.run(e.slice(1))}var app={router:Rlite()};app.EtsyApi=function(e){if(!e.apiKey)throw new Error("An API key is required!");var n="https://openapi.etsy.com/"+(e.apiVersion||"v2"),i={listings:function(){var i=n+"/listings/active.js?includes=MainImage&api_key="+e.apiKey+"&callback=?",r=$.Deferred(),o=$.getJSON(i).done(function(e){e.ok?r.resolve(e):r.reject(o,"Unknown error",e)});return r},listingsByUserId:function(i){var r=n+"/listings/active.js?includes=MainImage&api_key="+e.apiKey+"&user_id_or_name="+i+"&callback=?",o=$.Deferred(),a=$.getJSON(r).done(function(e){e.ok?o.resolve(e):o.reject(a,"Unknown error",e)});return o},userDetail:function(i){var r=n+"/users/"+i+"/profile.js?api_key="+e.apiKey+"&callback=?",o=$.Deferred(),a=$.getJSON(r).done(function(e){e.ok?o.resolve(e):o.reject(a,"Unknown error",e)});return o}};return i},app.router.add("",function(){app.api.listings().done(function(e){console.log(e);var n=_.template($("#listings").html(),{variable:"m"});$("#container").html(n({items:e.results}))}).fail(function(e,n,i){console.log(i)}),jQuery(window).load(function(){$("#container").isotope({itemSelector:".item",layoutMode:"masonry"})})}),app.router.add("users/:userid",function(e){app.api.userDetail(e.params.userid).done(function(e){console.log(e.results[0]);var n=_.template($("#profile").html(),{variable:"m"});$("#container").html(n({user:e.results[0]}))}).fail(function(e,n,i){console.log(i)}),app.api.listingsByUserId(e.params.userid).done(function(e){console.log(e);var n=_.template($("#listings").html(),{variable:"m"});$("#profile-listings").html(n({items:e.results}))}).fail(function(e,n,i){console.log(i)}),$(document).scrollTop(0)}),app.api=app.EtsyApi({apiKey:"pq046kugg8nrx8f2mu71awb7"}),window.addEventListener("hashchange",processHash),processHash();
//# sourceMappingURL=app.js.map